{
    "collab_server" : "",
    "contents" : "#TSGs\n\ntumorsup <- fread(\"../../s_3_4_5/All_down_exp_TSGs_pan-cancer.txt\")\nid <- fread(\"/home/elkon/eldadshulman/datasets/Eldad/APA/GTF/ID_tonames_hg19.txt\", data.table = F, header = F)\nid$V1 <- gsub(pattern = \"_.*$\", replacement = \"\", x = id$V1)\n\nsig <- readRDS(\"sig_intron.RDS\")\nr <- readRDS(\"r_intron.RDS\")\ntumorsup <- merge(id, tumorsup , by.x = \"V2\", by.y = \"GeneName\")\ndownint <- sig@metadata[which(sig@ppui.clus[,2] > sig@ppui.clus[,1]),]\nallint <- r@metadata\n\n#all TSG\nwhite.in <- sum(unique(allint$Gene) %in% unique(tumorsup$V1))\nwhite.out <- sum(unique(downint$Gene) %in% unique(tumorsup$V1))\nblack.in <- length(unique(allint$Gene)) - white.in\ndrown <- length(unique(downint$Gene))\nphyper(q = white.out, k = drown, m = white.in, n = black.in, lower.tail = F)\n\n#Only lung TSG\ntumorsup <- tumorsup[grepl(x = tumorsup$CancerTypes, pattern = \"LUSC|LUAD\"), ]\n\nwhite.in <- sum(unique(allint$Gene) %in% unique(tumorsup$V1))\nwhite.out <- sum(unique(downint$Gene) %in% unique(tumorsup$V1))\nblack.in <- length(unique(allint$Gene)) - white.in\ndrown <- length(unique(downint$Gene))\nphyper(q = white.out, k = drown, m = white.in, n = black.in, lower.tail = F)\n\n#oncogens\nt <- read.csv(\"/home/elkon/data/COSMIC/cancer_gene_census.csv\")\nt <- merge(id, t , by.x = \"V2\", by.y = \"Gene.Symbol\")\ntumorsup <- t[grepl(x = t$Role.in.Cancer, pattern = \"oncogene\"),]\n\n\nr <- readRDS(\"../reasults.RDS\")\nsig <- r[r@pvalues$all[,2] < 0.05,]\n\ndownint <- names(sig@utrs.clus.counts)[which(sig@ppui.clus[,2] < sig@ppui.clus[,1])]\n\nallint <- names(r@utrs.clus.counts)\n\ndownint <- gsub(x = downint, pattern = \"_.*$\", replacement = \"\")\nallint <- gsub(x = allint, pattern = \"_.*$\", replacement = \"\")\nwhite.in <- sum(unique(allint) %in% unique(tumorsup$V1))\nwhite.out <- sum(unique(downint) %in% unique(tumorsup$V1))\nblack.in <- length(unique(allint)) - white.in\ndrown <- length(unique(downint))\nphyper(q = white.out, k = drown, m = white.in, n = black.in, lower.tail = F)\n\n\n",
    "created" : 1562836535473.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2498367279",
    "id" : "F9E5725A",
    "lastKnownWriteTime" : 1562845711,
    "last_content_update" : 1562845711737,
    "path" : "/specific/netapp5_2/elkon/eldadshulman/datasets/Eldad/APA/lung_carcinom/mclust/scripts/TS.r",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 10,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}